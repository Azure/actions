{
  "status": 200,
  "url": "https://api.github.com/repos/azure/webapps-deploy/issues?since=Wed%2C%2007%20Apr%202021%2000%3A00%3A00%20GMT&per_page=100",
  "headers": {
    "access-control-allow-origin": "*",
    "access-control-expose-headers": "ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset",
    "cache-control": "private, max-age=60, s-maxage=60",
    "connection": "close",
    "content-encoding": "gzip",
    "content-security-policy": "default-src 'none'",
    "content-type": "application/json; charset=utf-8",
    "date": "Wed, 14 Apr 2021 06:57:04 GMT",
    "etag": "W/\"8b4c0ff00295d7b4452c4de8a367888be3c6a8ca89386bcb857210cbbd56956d\"",
    "referrer-policy": "origin-when-cross-origin, strict-origin-when-cross-origin",
    "server": "GitHub.com",
    "strict-transport-security": "max-age=31536000; includeSubdomains; preload",
    "transfer-encoding": "chunked",
    "vary": "Accept, Authorization, Cookie, X-GitHub-OTP, Accept-Encoding, Accept, X-Requested-With",
    "x-content-type-options": "nosniff",
    "x-frame-options": "deny",
    "x-github-media-type": "github.squirrel-girl-preview; format=json, github.inertia-preview; format=json, github.starfox-preview; format=json, github.mockingbird-preview; param=sailor-v-preview; format=json, github.squirrel-girl-preview; format=json, github.inertia-preview; format=json, github.starfox-preview; format=json, github.mockingbird-preview; param=sailor-v-preview; format=json",
    "x-github-request-id": "07C7:7BEA:1169781:1F3C331:60769240",
    "x-ratelimit-limit": "15000",
    "x-ratelimit-remaining": "14994",
    "x-ratelimit-reset": "1618387023",
    "x-ratelimit-used": "6",
    "x-xss-protection": "0"
  },
  "data": [
    {
      "url": "https://api.github.com/repos/Azure/webapps-deploy/issues/130",
      "repository_url": "https://api.github.com/repos/Azure/webapps-deploy",
      "labels_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/130/labels{/name}",
      "comments_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/130/comments",
      "events_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/130/events",
      "html_url": "https://github.com/Azure/webapps-deploy/issues/130",
      "id": 857382843,
      "node_id": "MDU6SXNzdWU4NTczODI4NDM=",
      "number": 130,
      "title": "Web Deploy to Azure Linux Web Apps Causes Random Exceptions",
      "user": {
        "login": "tbasallo",
        "id": 270673,
        "node_id": "MDQ6VXNlcjI3MDY3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/270673?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tbasallo",
        "html_url": "https://github.com/tbasallo",
        "followers_url": "https://api.github.com/users/tbasallo/followers",
        "following_url": "https://api.github.com/users/tbasallo/following{/other_user}",
        "gists_url": "https://api.github.com/users/tbasallo/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/tbasallo/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/tbasallo/subscriptions",
        "organizations_url": "https://api.github.com/users/tbasallo/orgs",
        "repos_url": "https://api.github.com/users/tbasallo/repos",
        "events_url": "https://api.github.com/users/tbasallo/events{/privacy}",
        "received_events_url": "https://api.github.com/users/tbasallo/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 2387353928,
          "node_id": "MDU6TGFiZWwyMzg3MzUzOTI4",
          "url": "https://api.github.com/repos/Azure/webapps-deploy/labels/need-to-triage",
          "name": "need-to-triage",
          "color": "fbca04",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 0,
      "created_at": "2021-04-13T23:03:59Z",
      "updated_at": "2021-04-13T23:10:14Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "body": "Not sure if this is the correct place. If not please advise.\r\n\r\nWhen deploying ASP.NET Core 3 websites to Azure Web Apps on Linux using Visual Studio 2019's Web Deploy, random, arbitrary exceptions come up. I have not seen any method to the madness. This started about 2 months ago.\r\n\r\nIt seems to publish code \"partially\" or somehow malformed. Across 10 different sites, I have seen errors from BadFormatType, to null objects, to other errors I have never seen before. But the rest of the site will work just fine. It's just one code path that fails (or multiple).\r\n\r\nEasy 100% Fix:\r\n- Stop the app service, \r\n- Deploy (same way, same code), No changes\r\n- Start the app service\r\n\r\nMy solution is now to stop the service, deploy and then start it. I am not sure if this happens when deploying via any other method.\r\n\r\n### Latest Example\r\n\r\n```\r\nSystem.BadImageFormatException:\r\n   at System.Runtime.CompilerServices.RuntimeHelpers._CompileMethod (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n   at System.Reflection.Emit.DynamicMethod.CreateDelegate (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n   at System.Linq.Expressions.Compiler.LambdaCompiler.Compile (System.Linq.Expressions, Version=4.2.2.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a)\r\n   at System.Linq.Expressions.Expression`1.Compile (System.Linq.Expressions, Version=4.2.2.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a)\r\n   at Microsoft.Extensions.Internal.ObjectMethodExecutor..ctor (Microsoft.AspNetCore.Mvc.Core, Version=3.1.12.0, Culture=neutral, PublicKeyToken=adb9793829ddae60)\r\n   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Create (Microsoft.AspNetCore.Mvc.Core, Version=3.1.12.0, Culture=neutral, PublicKeyToken=adb9793829ddae60)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvokerCache.GetCachedResult (Microsoft.AspNetCore.Mvc.Core, Version=3.1.12.0, Culture=neutral, PublicKeyToken=adb9793829ddae60)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvokerProvider.OnProvidersExecuting (Microsoft.AspNetCore.Mvc.Core, Version=3.1.12.0, Culture=neutral, PublicKeyToken=adb9793829ddae60)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionInvokerFactory.CreateInvoker (Microsoft.AspNetCore.Mvc.Core, Version=3.1.12.0, Culture=neutral, PublicKeyToken=adb9793829ddae60)\r\n   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointFactory+<>c__DisplayClass7_0.<CreateRequestDelegate>b__0 (Microsoft.AspNetCore.Mvc.Core, Version=3.1.12.0, Culture=neutral, PublicKeyToken=adb9793829ddae60)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke (Microsoft.AspNetCore.Routing, Version=3.1.12.0, Culture=neutral, PublicKeyToken=adb9793829ddae60)\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware+<Invoke>d__5.MoveNext (Microsoft.AspNetCore.Authorization.Policy, Version=3.1.12.0, Culture=neutral, PublicKeyToken=adb9793829ddae60)\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware+<Invoke>d__6.MoveNext (Microsoft.AspNetCore.Authentication, Version=3.1.12.0, Culture=neutral, PublicKeyToken=adb9793829ddae60)\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware+<<Invoke>g__Awaited|6_0>d.MoveNext (Microsoft.AspNetCore.Diagnostics, Version=3.1.12.0, Culture=neutral, PublicKeyToken=adb9793829ddae60)\r\n\r\n\r\n\r\n```",
      "reactions": {
        "url": "https://api.github.com/repos/Azure/webapps-deploy/issues/130/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/130/timeline",
      "performed_via_github_app": null
    },
    {
      "url": "https://api.github.com/repos/Azure/webapps-deploy/issues/129",
      "repository_url": "https://api.github.com/repos/Azure/webapps-deploy",
      "labels_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/129/labels{/name}",
      "comments_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/129/comments",
      "events_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/129/events",
      "html_url": "https://github.com/Azure/webapps-deploy/issues/129",
      "id": 856421683,
      "node_id": "MDU6SXNzdWU4NTY0MjE2ODM=",
      "number": 129,
      "title": "Does not seem to support Docker Compose (preview) in app service for containers",
      "user": {
        "login": "timothyblue",
        "id": 17855464,
        "node_id": "MDQ6VXNlcjE3ODU1NDY0",
        "avatar_url": "https://avatars.githubusercontent.com/u/17855464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/timothyblue",
        "html_url": "https://github.com/timothyblue",
        "followers_url": "https://api.github.com/users/timothyblue/followers",
        "following_url": "https://api.github.com/users/timothyblue/following{/other_user}",
        "gists_url": "https://api.github.com/users/timothyblue/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/timothyblue/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/timothyblue/subscriptions",
        "organizations_url": "https://api.github.com/users/timothyblue/orgs",
        "repos_url": "https://api.github.com/users/timothyblue/repos",
        "events_url": "https://api.github.com/users/timothyblue/events{/privacy}",
        "received_events_url": "https://api.github.com/users/timothyblue/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 2387353928,
          "node_id": "MDU6TGFiZWwyMzg3MzUzOTI4",
          "url": "https://api.github.com/repos/Azure/webapps-deploy/labels/need-to-triage",
          "name": "need-to-triage",
          "color": "fbca04",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 0,
      "created_at": "2021-04-12T23:00:22Z",
      "updated_at": "2021-04-13T00:47:52Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "body": "I have a Web App for Containers service running with this docker-compose\r\n\r\n```\r\nversion: '3'\r\nservices:\r\n  lclient:\r\n    image: timothyblue/client:1.0\r\n    ports:\r\n      - 80:80\r\n    depends_on:\r\n      - server\r\n  server:\r\n    image: timothyblue/server:1.0\r\n    expose:\r\n      - 80\r\n```\r\n\r\nI'm trying to update the app service config using this command:\r\n```\r\n- name: Update Azure config\r\n  uses: azure/webapps-deploy@v2\r\n  with:\r\n    app-name: 'myApp'\r\n    publish-profile: ${{ secrets.AZURE_WEBAPP_PUBLISH_PROFILE }}\r\n    configuration-file: compose.yml\r\n```\r\nHowever when the pipeline runs I receive this error:\r\n`Error: Deployment Failed with Error: Error: This is not a container web app. Please remove inputs like images and configuration-file which are only relevant for container deployment.`\r\n\r\nAfter looking at the source code I realized that this option is not available using a publish profile and must be used in conjunction with a Azure Service Principal (SPN) and the `azure/login@v1` action`\r\n\r\nThe functioning script is below:\r\n```\r\n- name: 'Login via Azure CLI'\r\n  uses: azure/login@v1\r\n  with:\r\n    creds: ${{ secrets.AZURE_CREDENTIALS }}\r\n\r\n- name: Update Azure config\r\n  uses: azure/webapps-deploy@v2\r\n  with:\r\n    app-name: 'myApp'\r\n    configuration-file: compose.yml\r\n```",
      "reactions": {
        "url": "https://api.github.com/repos/Azure/webapps-deploy/issues/129/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/129/timeline",
      "performed_via_github_app": null
    },
    {
      "url": "https://api.github.com/repos/Azure/webapps-deploy/issues/128",
      "repository_url": "https://api.github.com/repos/Azure/webapps-deploy",
      "labels_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/128/labels{/name}",
      "comments_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/128/comments",
      "events_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/128/events",
      "html_url": "https://github.com/Azure/webapps-deploy/issues/128",
      "id": 854424152,
      "node_id": "MDU6SXNzdWU4NTQ0MjQxNTI=",
      "number": 128,
      "title": "This action does not remove old files during upload!",
      "user": {
        "login": "reilem",
        "id": 11155505,
        "node_id": "MDQ6VXNlcjExMTU1NTA1",
        "avatar_url": "https://avatars.githubusercontent.com/u/11155505?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/reilem",
        "html_url": "https://github.com/reilem",
        "followers_url": "https://api.github.com/users/reilem/followers",
        "following_url": "https://api.github.com/users/reilem/following{/other_user}",
        "gists_url": "https://api.github.com/users/reilem/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/reilem/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/reilem/subscriptions",
        "organizations_url": "https://api.github.com/users/reilem/orgs",
        "repos_url": "https://api.github.com/users/reilem/repos",
        "events_url": "https://api.github.com/users/reilem/events{/privacy}",
        "received_events_url": "https://api.github.com/users/reilem/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 2387353928,
          "node_id": "MDU6TGFiZWwyMzg3MzUzOTI4",
          "url": "https://api.github.com/repos/Azure/webapps-deploy/labels/need-to-triage",
          "name": "need-to-triage",
          "color": "fbca04",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 0,
      "created_at": "2021-04-09T11:11:34Z",
      "updated_at": "2021-04-09T11:11:34Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "body": "I would expect that when you upload a \"new\" deployment, that all traces of previous deployments would be removed. However, I just tested this on our dev branch and I can with 100% certainty confirm that old files from old outdated deployments are STILL PRESENT.\r\n\r\nI sincerely hope this is a bug and not intentional design, because keeping old files in an app service can lead to all sorts of nasty stuff:\r\n- Storage consumption increase over time\r\n- Attempting to run or compile old code can result in startup crash loop (this is what brought our dev servers down)\r\n- Security leaks: if old keys/access codes are removed from repo they will still be there in the app service even after redeployment!!!\r\n",
      "reactions": {
        "url": "https://api.github.com/repos/Azure/webapps-deploy/issues/128/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/128/timeline",
      "performed_via_github_app": null
    },
    {
      "url": "https://api.github.com/repos/Azure/webapps-deploy/issues/127",
      "repository_url": "https://api.github.com/repos/Azure/webapps-deploy",
      "labels_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/127/labels{/name}",
      "comments_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/127/comments",
      "events_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/127/events",
      "html_url": "https://github.com/Azure/webapps-deploy/pull/127",
      "id": 853373982,
      "node_id": "MDExOlB1bGxSZXF1ZXN0NjExNDc0MDM0",
      "number": 127,
      "title": "Adding commit message to zipDeploy payload ",
      "user": {
        "login": "BALAGA-GAYATRI",
        "id": 26038662,
        "node_id": "MDQ6VXNlcjI2MDM4NjYy",
        "avatar_url": "https://avatars.githubusercontent.com/u/26038662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BALAGA-GAYATRI",
        "html_url": "https://github.com/BALAGA-GAYATRI",
        "followers_url": "https://api.github.com/users/BALAGA-GAYATRI/followers",
        "following_url": "https://api.github.com/users/BALAGA-GAYATRI/following{/other_user}",
        "gists_url": "https://api.github.com/users/BALAGA-GAYATRI/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/BALAGA-GAYATRI/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/BALAGA-GAYATRI/subscriptions",
        "organizations_url": "https://api.github.com/users/BALAGA-GAYATRI/orgs",
        "repos_url": "https://api.github.com/users/BALAGA-GAYATRI/repos",
        "events_url": "https://api.github.com/users/BALAGA-GAYATRI/events{/privacy}",
        "received_events_url": "https://api.github.com/users/BALAGA-GAYATRI/received_events",
        "type": "User",
        "site_admin": true
      },
      "labels": [],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 1,
      "created_at": "2021-04-08T11:33:15Z",
      "updated_at": "2021-04-12T11:31:46Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "pull_request": {
        "url": "https://api.github.com/repos/Azure/webapps-deploy/pulls/127",
        "html_url": "https://github.com/Azure/webapps-deploy/pull/127",
        "diff_url": "https://github.com/Azure/webapps-deploy/pull/127.diff",
        "patch_url": "https://github.com/Azure/webapps-deploy/pull/127.patch"
      },
      "body": "Resolving https://github.com/Azure/webapps-deploy/issues/118\r\n\r\nNot using action.yml for taking the input of commit-message",
      "reactions": {
        "url": "https://api.github.com/repos/Azure/webapps-deploy/issues/127/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/127/timeline",
      "performed_via_github_app": null
    },
    {
      "url": "https://api.github.com/repos/Azure/webapps-deploy/issues/124",
      "repository_url": "https://api.github.com/repos/Azure/webapps-deploy",
      "labels_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/124/labels{/name}",
      "comments_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/124/comments",
      "events_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/124/events",
      "html_url": "https://github.com/Azure/webapps-deploy/issues/124",
      "id": 853279648,
      "node_id": "MDU6SXNzdWU4NTMyNzk2NDg=",
      "number": 124,
      "title": "FAIL: run azure webapp deploy action using publish profile credentials",
      "user": {
        "login": "xcelsiorbosi",
        "id": 16878161,
        "node_id": "MDQ6VXNlcjE2ODc4MTYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/16878161?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/xcelsiorbosi",
        "html_url": "https://github.com/xcelsiorbosi",
        "followers_url": "https://api.github.com/users/xcelsiorbosi/followers",
        "following_url": "https://api.github.com/users/xcelsiorbosi/following{/other_user}",
        "gists_url": "https://api.github.com/users/xcelsiorbosi/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/xcelsiorbosi/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/xcelsiorbosi/subscriptions",
        "organizations_url": "https://api.github.com/users/xcelsiorbosi/orgs",
        "repos_url": "https://api.github.com/users/xcelsiorbosi/repos",
        "events_url": "https://api.github.com/users/xcelsiorbosi/events{/privacy}",
        "received_events_url": "https://api.github.com/users/xcelsiorbosi/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 2387353928,
          "node_id": "MDU6TGFiZWwyMzg3MzUzOTI4",
          "url": "https://api.github.com/repos/Azure/webapps-deploy/labels/need-to-triage",
          "name": "need-to-triage",
          "color": "fbca04",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 0,
      "created_at": "2021-04-08T09:40:46Z",
      "updated_at": "2021-04-08T09:41:39Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "body": "Hi Team, \r\nI came across a nasty bug that took me a few days to resolve. \r\n\r\n1) intially deploy on linux\r\n2) wanted to try the webapp 'push' product so created a new web app and deployed win os\r\n3) web app deployment failed non-stop, tried a million things and nothing worked\r\n4) deleted webapp a few times and made a new one\r\n\r\n5 -  (finally after 5 days)) reverted back to linux and used original  webapp name\r\n6) success web app deployed. \r\n\r\nthis leaves me to believe that  there is a config file attached to my git account and the webapp that is not available within my git repo that ties the webapp name to the 'Actions' deployment. \r\n\r\nCould I request a feature for automated environment migration as this bug had me doing tailspins with no real logs to diagnose. ",
      "reactions": {
        "url": "https://api.github.com/repos/Azure/webapps-deploy/issues/124/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/124/timeline",
      "performed_via_github_app": null
    },
    {
      "url": "https://api.github.com/repos/Azure/webapps-deploy/issues/120",
      "repository_url": "https://api.github.com/repos/Azure/webapps-deploy",
      "labels_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/120/labels{/name}",
      "comments_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/120/comments",
      "events_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/120/events",
      "html_url": "https://github.com/Azure/webapps-deploy/issues/120",
      "id": 844600654,
      "node_id": "MDU6SXNzdWU4NDQ2MDA2NTQ=",
      "number": 120,
      "title": "Add log stream to deployment",
      "user": {
        "login": "dennisameling",
        "id": 17739158,
        "node_id": "MDQ6VXNlcjE3NzM5MTU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/17739158?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dennisameling",
        "html_url": "https://github.com/dennisameling",
        "followers_url": "https://api.github.com/users/dennisameling/followers",
        "following_url": "https://api.github.com/users/dennisameling/following{/other_user}",
        "gists_url": "https://api.github.com/users/dennisameling/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/dennisameling/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dennisameling/subscriptions",
        "organizations_url": "https://api.github.com/users/dennisameling/orgs",
        "repos_url": "https://api.github.com/users/dennisameling/repos",
        "events_url": "https://api.github.com/users/dennisameling/events{/privacy}",
        "received_events_url": "https://api.github.com/users/dennisameling/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1536433402,
          "node_id": "MDU6TGFiZWwxNTM2NDMzNDAy",
          "url": "https://api.github.com/repos/Azure/webapps-deploy/labels/question",
          "name": "question",
          "color": "d876e3",
          "default": true,
          "description": "Further information is requested"
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": {
        "login": "kaverma",
        "id": 25735209,
        "node_id": "MDQ6VXNlcjI1NzM1MjA5",
        "avatar_url": "https://avatars.githubusercontent.com/u/25735209?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kaverma",
        "html_url": "https://github.com/kaverma",
        "followers_url": "https://api.github.com/users/kaverma/followers",
        "following_url": "https://api.github.com/users/kaverma/following{/other_user}",
        "gists_url": "https://api.github.com/users/kaverma/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/kaverma/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/kaverma/subscriptions",
        "organizations_url": "https://api.github.com/users/kaverma/orgs",
        "repos_url": "https://api.github.com/users/kaverma/repos",
        "events_url": "https://api.github.com/users/kaverma/events{/privacy}",
        "received_events_url": "https://api.github.com/users/kaverma/received_events",
        "type": "User",
        "site_admin": true
      },
      "assignees": [
        {
          "login": "kaverma",
          "id": 25735209,
          "node_id": "MDQ6VXNlcjI1NzM1MjA5",
          "avatar_url": "https://avatars.githubusercontent.com/u/25735209?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/kaverma",
          "html_url": "https://github.com/kaverma",
          "followers_url": "https://api.github.com/users/kaverma/followers",
          "following_url": "https://api.github.com/users/kaverma/following{/other_user}",
          "gists_url": "https://api.github.com/users/kaverma/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/kaverma/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/kaverma/subscriptions",
          "organizations_url": "https://api.github.com/users/kaverma/orgs",
          "repos_url": "https://api.github.com/users/kaverma/repos",
          "events_url": "https://api.github.com/users/kaverma/events{/privacy}",
          "received_events_url": "https://api.github.com/users/kaverma/received_events",
          "type": "User",
          "site_admin": true
        }
      ],
      "milestone": null,
      "comments": 1,
      "created_at": "2021-03-30T14:00:25Z",
      "updated_at": "2021-04-09T06:22:06Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "body": "Related to https://github.com/Azure/webapps-deploy/issues/119\r\n\r\nCurrently, when using this GitHub Action, no real-time deployment logs are shown, so it looks like the action is hanging. You won't see anything except for `Package deployment using ZIP Deploy initiated.` until the very end, where a link to the log files is shown:\r\n\r\n![image](https://user-images.githubusercontent.com/17739158/113000986-a2e1be00-9170-11eb-9803-fce66f491b32.png)\r\n\r\nWhen using [Azure's VS Code extension](https://docs.microsoft.com/nl-nl/azure/developer/javascript/tutorial/deploy-nodejs-azure-app-service-with-visual-studio-code?tabs=bash) to do a deployment, a real-time log stream is shown, so that you know exactly what the Azure service is currently doing. Could this please be added to this GH Action as well?",
      "reactions": {
        "url": "https://api.github.com/repos/Azure/webapps-deploy/issues/120/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/120/timeline",
      "performed_via_github_app": null
    },
    {
      "url": "https://api.github.com/repos/Azure/webapps-deploy/issues/119",
      "repository_url": "https://api.github.com/repos/Azure/webapps-deploy",
      "labels_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/119/labels{/name}",
      "comments_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/119/comments",
      "events_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/119/events",
      "html_url": "https://github.com/Azure/webapps-deploy/issues/119",
      "id": 844593472,
      "node_id": "MDU6SXNzdWU4NDQ1OTM0NzI=",
      "number": 119,
      "title": "Add docs for efficiently deploying Node.js Express apps",
      "user": {
        "login": "dennisameling",
        "id": 17739158,
        "node_id": "MDQ6VXNlcjE3NzM5MTU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/17739158?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dennisameling",
        "html_url": "https://github.com/dennisameling",
        "followers_url": "https://api.github.com/users/dennisameling/followers",
        "following_url": "https://api.github.com/users/dennisameling/following{/other_user}",
        "gists_url": "https://api.github.com/users/dennisameling/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/dennisameling/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dennisameling/subscriptions",
        "organizations_url": "https://api.github.com/users/dennisameling/orgs",
        "repos_url": "https://api.github.com/users/dennisameling/repos",
        "events_url": "https://api.github.com/users/dennisameling/events{/privacy}",
        "received_events_url": "https://api.github.com/users/dennisameling/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1536433396,
          "node_id": "MDU6TGFiZWwxNTM2NDMzMzk2",
          "url": "https://api.github.com/repos/Azure/webapps-deploy/labels/documentation",
          "name": "documentation",
          "color": "0075ca",
          "default": true,
          "description": "Improvements or additions to documentation"
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": {
        "login": "BALAGA-GAYATRI",
        "id": 26038662,
        "node_id": "MDQ6VXNlcjI2MDM4NjYy",
        "avatar_url": "https://avatars.githubusercontent.com/u/26038662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BALAGA-GAYATRI",
        "html_url": "https://github.com/BALAGA-GAYATRI",
        "followers_url": "https://api.github.com/users/BALAGA-GAYATRI/followers",
        "following_url": "https://api.github.com/users/BALAGA-GAYATRI/following{/other_user}",
        "gists_url": "https://api.github.com/users/BALAGA-GAYATRI/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/BALAGA-GAYATRI/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/BALAGA-GAYATRI/subscriptions",
        "organizations_url": "https://api.github.com/users/BALAGA-GAYATRI/orgs",
        "repos_url": "https://api.github.com/users/BALAGA-GAYATRI/repos",
        "events_url": "https://api.github.com/users/BALAGA-GAYATRI/events{/privacy}",
        "received_events_url": "https://api.github.com/users/BALAGA-GAYATRI/received_events",
        "type": "User",
        "site_admin": true
      },
      "assignees": [
        {
          "login": "BALAGA-GAYATRI",
          "id": 26038662,
          "node_id": "MDQ6VXNlcjI2MDM4NjYy",
          "avatar_url": "https://avatars.githubusercontent.com/u/26038662?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/BALAGA-GAYATRI",
          "html_url": "https://github.com/BALAGA-GAYATRI",
          "followers_url": "https://api.github.com/users/BALAGA-GAYATRI/followers",
          "following_url": "https://api.github.com/users/BALAGA-GAYATRI/following{/other_user}",
          "gists_url": "https://api.github.com/users/BALAGA-GAYATRI/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/BALAGA-GAYATRI/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/BALAGA-GAYATRI/subscriptions",
          "organizations_url": "https://api.github.com/users/BALAGA-GAYATRI/orgs",
          "repos_url": "https://api.github.com/users/BALAGA-GAYATRI/repos",
          "events_url": "https://api.github.com/users/BALAGA-GAYATRI/events{/privacy}",
          "received_events_url": "https://api.github.com/users/BALAGA-GAYATRI/received_events",
          "type": "User",
          "site_admin": true
        }
      ],
      "milestone": null,
      "comments": 0,
      "created_at": "2021-03-30T13:55:52Z",
      "updated_at": "2021-04-09T06:17:05Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "body": "I have a Node.js Express app (NestJS) which needs the whole `node_modules` folder to be present when running it. When using this GitHub Action is correctly builds the ZIP, but the simply fails after 20-30 mins (can't remember how long exactly it took). There are ~60000 files in the folder (`node_modules` is always huge), so I guess there's just too many files and folders for this to work well.\r\n\r\n```\r\n1:58:39 PM REDACTED-app-backend-dev: Processed 23346 files...\r\n1:58:59 PM REDACTED-app-backend-dev: Processed 24335 files...\r\n1:59:19 PM REDACTED-app-backend-dev: Processed 25339 files...\r\n1:59:39 PM REDACTED-app-backend-dev: Processed 26327 files...\r\n1:59:59 PM REDACTED-app-backend-dev: Processed 27136 files...\r\n2:00:19 PM REDACTED-app-backend-dev: Processed 27718 files...\r\n2:00:40 PM REDACTED-app-backend-dev: Processed 28363 files...\r\n2:01:00 PM REDACTED-app-backend-dev: Processed 29270 files...\r\n2:01:20 PM REDACTED-app-backend-dev: Processed 30209 files...\r\n2:01:40 PM REDACTED-app-backend-dev: Processed 30977 files...\r\n2:02:00 PM REDACTED-app-backend-dev: Processed 31585 files...\r\n2:02:20 PM REDACTED-app-backend-dev: Processed 32213 files...\r\n2:02:41 PM REDACTED-app-backend-dev: Processed 32797 files...\r\n2:03:01 PM REDACTED-app-backend-dev: Processed 33157 files...\r\n2:03:21 PM REDACTED-app-backend-dev: Processed 33609 files...\r\n2:03:41 PM REDACTED-app-backend-dev: Processed 34249 files...\r\n2:04:01 PM REDACTED-app-backend-dev: Processed 34861 files...\r\n2:04:21 PM REDACTED-app-backend-dev: Processed 35218 files...\r\n2:04:41 PM REDACTED-app-backend-dev: Processed 35655 files...\r\n2:05:01 PM REDACTED-app-backend-dev: Processed 36304 files...\r\n2:05:21 PM REDACTED-app-backend-dev: Processed 36867 files...\r\n2:05:41 PM REDACTED-app-backend-dev: Processed 37410 files...\r\n2:06:01 PM REDACTED-app-backend-dev: Processed 38014 files...\r\n2:06:21 PM REDACTED-app-backend-dev: Processed 38862 files...\r\n2:06:41 PM REDACTED-app-backend-dev: Processed 39533 files...\r\n2:07:01 PM REDACTED-app-backend-dev: Processed 40256 files...\r\n2:07:02 PM REDACTED-app-backend-dev: An unknown error has occurred. Check the diagnostic log for details.\r\n2:07:04 PM REDACTED-app-backend-dev: Deployment failed.\r\n```\r\n\r\nIn this case it's much more efficient to simply build the package on the Azure side, rather than using GitHub Actions for that. According to the docs at https://docs.microsoft.com/nl-nl/azure/developer/javascript/tutorial/deploy-nodejs-azure-app-service-with-visual-studio-code, you can simply set `SCM_DO_BUILD_DURING_DEPLOYMENT=1` and `WEBSITE_NODE_DEFAULT_VERSION` in the app settings. Then it will build on the Azure side.\r\n\r\nCould you please update the docs to add some info on the `SCM_DO_BUILD_DURING_DEPLOYMENT=1` option? With this setting, my workflow is also greatly simplified:\r\n\r\n```YAML\r\n# Docs for the Azure Web Apps Deploy action: https://go.microsoft.com/fwlink/?linkid=2134798\r\n# More GitHub Actions for Azure: https://go.microsoft.com/fwlink/?linkid=2135048\r\n\r\nname: Deploy dev backend\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - main\r\n\r\njobs:\r\n  build-and-deploy:\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n    # checkout the repo\r\n    - name: 'Checkout Github Action'\r\n      uses: actions/checkout@master\r\n\r\n    - name: Run Azure webapp deploy action using publish profile credentials\r\n      uses: azure/webapps-deploy@v2\r\n      with:\r\n        app-name: REDACTED\r\n        slot-name: Production\r\n        publish-profile: REDACTED\r\n        package: backend\r\n```",
      "reactions": {
        "url": "https://api.github.com/repos/Azure/webapps-deploy/issues/119/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/119/timeline",
      "performed_via_github_app": null
    },
    {
      "url": "https://api.github.com/repos/Azure/webapps-deploy/issues/118",
      "repository_url": "https://api.github.com/repos/Azure/webapps-deploy",
      "labels_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/118/labels{/name}",
      "comments_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/118/comments",
      "events_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/118/events",
      "html_url": "https://github.com/Azure/webapps-deploy/issues/118",
      "id": 839940079,
      "node_id": "MDU6SXNzdWU4Mzk5NDAwNzk=",
      "number": 118,
      "title": "Provide the commit message in the zip deploy API",
      "user": {
        "login": "nertim",
        "id": 493476,
        "node_id": "MDQ6VXNlcjQ5MzQ3Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/493476?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nertim",
        "html_url": "https://github.com/nertim",
        "followers_url": "https://api.github.com/users/nertim/followers",
        "following_url": "https://api.github.com/users/nertim/following{/other_user}",
        "gists_url": "https://api.github.com/users/nertim/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/nertim/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/nertim/subscriptions",
        "organizations_url": "https://api.github.com/users/nertim/orgs",
        "repos_url": "https://api.github.com/users/nertim/repos",
        "events_url": "https://api.github.com/users/nertim/events{/privacy}",
        "received_events_url": "https://api.github.com/users/nertim/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1536433398,
          "node_id": "MDU6TGFiZWwxNTM2NDMzMzk4",
          "url": "https://api.github.com/repos/Azure/webapps-deploy/labels/enhancement",
          "name": "enhancement",
          "color": "a2eeef",
          "default": true,
          "description": "New feature or request"
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": {
        "login": "BALAGA-GAYATRI",
        "id": 26038662,
        "node_id": "MDQ6VXNlcjI2MDM4NjYy",
        "avatar_url": "https://avatars.githubusercontent.com/u/26038662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BALAGA-GAYATRI",
        "html_url": "https://github.com/BALAGA-GAYATRI",
        "followers_url": "https://api.github.com/users/BALAGA-GAYATRI/followers",
        "following_url": "https://api.github.com/users/BALAGA-GAYATRI/following{/other_user}",
        "gists_url": "https://api.github.com/users/BALAGA-GAYATRI/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/BALAGA-GAYATRI/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/BALAGA-GAYATRI/subscriptions",
        "organizations_url": "https://api.github.com/users/BALAGA-GAYATRI/orgs",
        "repos_url": "https://api.github.com/users/BALAGA-GAYATRI/repos",
        "events_url": "https://api.github.com/users/BALAGA-GAYATRI/events{/privacy}",
        "received_events_url": "https://api.github.com/users/BALAGA-GAYATRI/received_events",
        "type": "User",
        "site_admin": true
      },
      "assignees": [
        {
          "login": "BALAGA-GAYATRI",
          "id": 26038662,
          "node_id": "MDQ6VXNlcjI2MDM4NjYy",
          "avatar_url": "https://avatars.githubusercontent.com/u/26038662?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/BALAGA-GAYATRI",
          "html_url": "https://github.com/BALAGA-GAYATRI",
          "followers_url": "https://api.github.com/users/BALAGA-GAYATRI/followers",
          "following_url": "https://api.github.com/users/BALAGA-GAYATRI/following{/other_user}",
          "gists_url": "https://api.github.com/users/BALAGA-GAYATRI/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/BALAGA-GAYATRI/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/BALAGA-GAYATRI/subscriptions",
          "organizations_url": "https://api.github.com/users/BALAGA-GAYATRI/orgs",
          "repos_url": "https://api.github.com/users/BALAGA-GAYATRI/repos",
          "events_url": "https://api.github.com/users/BALAGA-GAYATRI/events{/privacy}",
          "received_events_url": "https://api.github.com/users/BALAGA-GAYATRI/received_events",
          "type": "User",
          "site_admin": true
        }
      ],
      "milestone": null,
      "comments": 2,
      "created_at": "2021-03-24T17:07:17Z",
      "updated_at": "2021-04-09T06:22:24Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "body": "The commit message exists in GITHUB_CONTEXT\r\n\r\nSample repo:\r\nhttps://github.com/nertim/github-action-testapp-node\r\n\r\nYML:\r\n![image](https://user-images.githubusercontent.com/493476/112353025-8f25eb80-8c88-11eb-98e9-7e881e2b606b.png)\r\n\r\nCommit message in output (line 231):\r\n![image](https://user-images.githubusercontent.com/493476/112353105-a7960600-8c88-11eb-8526-2c6035b1ab3b.png)\r\n",
      "reactions": {
        "url": "https://api.github.com/repos/Azure/webapps-deploy/issues/118/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/Azure/webapps-deploy/issues/118/timeline",
      "performed_via_github_app": null
    }
  ]
}